{
  "itemType": "TelevisionItem",
  "version": "1.0.0",
  "description": "Validation rules for TelevisionItem schema",
  "extends": "ElectronicItem",
  
  "validationSchema": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "allOf": [
      {
        "if": {"properties": {"smartTV": {"const": true}}},
        "then": {"required": ["operatingSystem"], "properties": {"operatingSystem": {"not": {"const": "None"}}}}
      },
      {
        "if": {"properties": {"gamingFeatures": {"type": "object", "properties": {"gameMode": {"const": true}}}}},
        "then": {"required": ["gamingFeatures"], "properties": {"gamingFeatures": {"required": ["responseTime"]}}}
      },
      {
        "if": {"properties": {"voiceControl": {"type": "object", "properties": {"supported": {"const": true}}}}},
        "then": {"required": ["voiceControl"], "properties": {"voiceControl": {"required": ["assistants"]}}}
      },
      {
        "if": {"properties": {"screenSize": {"type": "object", "properties": {"value": {"minimum": 34, "maximum": 46}}}}},
        "then": {"properties": {"resolution": {"enum": ["4K", "8K"]}}}
      },
      {
        "if": {"properties": {"screenSize": {"type": "object", "properties": {"value": {"minimum": 24, "maximum": 33}}}}},
        "then": {"properties": {"resolution": {"enum": ["1080p", "4K"]}}}
      },
      {
        "if": {"properties": {"refreshRate": {"type": "number", "minimum": 120}}},
        "then": {"properties": {"gamingFeatures": {"required": ["gameMode", "variableRefreshRate"]}}}
      }
    ]
  }
}
